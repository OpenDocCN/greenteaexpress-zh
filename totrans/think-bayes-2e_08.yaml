- en: Estimating Counts
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 估计计数
- en: 原文：[https://allendowney.github.io/ThinkBayes2/chap05.html](https://allendowney.github.io/ThinkBayes2/chap05.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://allendowney.github.io/ThinkBayes2/chap05.html](https://allendowney.github.io/ThinkBayes2/chap05.html)
- en: In the previous chapter we solved problems that involve estimating proportions.
    In the Euro problem, we estimated the probability that a coin lands heads up,
    and in the exercises, you estimated a batting average, the fraction of people
    who cheat on their taxes, and the chance of shooting down an invading alien.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在前一章中，我们解决了涉及估计比例的问题。在欧元问题中，我们估计了硬币正面朝上的概率，在练习中，您估计了击球率、在税收上作假的人的比例以及击落入侵外星人的机会。
- en: Clearly, some of these problems are more realistic than others, and some are
    more useful than others.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，其中一些问题比其他问题更现实，有些比其他问题更有用。
- en: In this chapter, we’ll work on problems related to counting, or estimating the
    size of a population. Again, some of the examples will seem silly, but some of
    them, like the German Tank problem, have real applications, sometimes in life
    and death situations.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将解决与计数或估计人口规模有关的问题。同样，一些例子看起来很愚蠢，但其中一些，比如德国坦克问题，有真正的应用，有时甚至是生死攸关的情况。
- en: The Train Problem
  id: totrans-5
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 火车问题
- en: 'I found the train problem in Frederick Mosteller’s, [*Fifty Challenging Problems
    in Probability with Solutions*](https://store.doverpublications.com/0486653552.html):'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 我在Frederick Mosteller的[*Fifty Challenging Problems in Probability with Solutions*](https://store.doverpublications.com/0486653552.html)中找到了火车问题：
- en: “A railroad numbers its locomotives in order 1…N. One day you see a locomotive
    with the number 60\. Estimate how many locomotives the railroad has.”
  id: totrans-7
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “一个铁路公司按顺序给其火车编号为1…N。有一天你看到一个编号为60的火车。估计铁路公司有多少火车。”
- en: 'Based on this observation, we know the railroad has 60 or more locomotives.
    But how many more? To apply Bayesian reasoning, we can break this problem into
    two steps:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 基于这一观察，我们知道铁路公司有60辆或更多的火车。但还有多少？为了应用贝叶斯推理，我们可以将这个问题分为两个步骤：
- en: What did we know about \(N\) before we saw the data?
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在我们看到数据之前，我们对\(N\)了解多少？
- en: For any given value of \(N\), what is the likelihood of seeing the data (a locomotive
    with number 60)?
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于给定的\(N\)值，看到数据（编号为60的火车）的可能性有多大？
- en: The answer to the first question is the prior. The answer to the second is the
    likelihood.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个问题的答案是先验。第二个问题的答案是可能性。
- en: We don’t have much basis to choose a prior, so we’ll start with something simple
    and then consider alternatives. Let’s assume that \(N\) is equally likely to be
    any value from 1 to 1000.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 我们没有太多依据来选择先验，所以我们将从简单的开始，然后考虑其他选择。让我们假设\(N\)可能是1到1000之间的任何一个值。
- en: 'Here’s the prior distribution:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 这是先验分布：
- en: '[PRE0]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Now let’s figure out the likelihood of the data. In a hypothetical fleet of
    \(N\) locomotives, what is the probability that we would see number 60? If we
    assume that we are equally likely to see any locomotive, the chance of seeing
    any particular one is \(1/N\).
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们来计算数据的可能性。在一个假设的\(N\)辆火车中，我们看到编号60的概率是多少？如果我们假设看到任何一辆火车的可能性是相等的，那么看到任何一辆火车的概率是\(1/N\)。
- en: 'Here’s the function that does the update:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 这是进行更新的函数：
- en: '[PRE1]'
  id: totrans-17
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: This function might look familiar; it is the same as the update function for
    the dice problem in the previous chapter. In terms of likelihood, the train problem
    is the same as the dice problem.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 这个函数可能看起来很熟悉；它与前一章中骰子问题的更新函数相同。在可能性方面，火车问题与骰子问题相同。
- en: 'Here’s the update:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 这是更新：
- en: '[PRE2]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Here’s what the posterior looks like:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 这是后验的样子：
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell source Hide code cell source</summary>
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="Toggle hidden content">显示代码单元格源代码
    隐藏代码单元格源代码</summary>
- en: '[PRE3]</details> ![_images/3fd4516774234abdc207c2e19bea0991f19f2b933e638bd40ce82c44782249c5.png](../Images/c8884d0e433a999659931b4e047c3514.png)'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE3]</details> ![_images/3fd4516774234abdc207c2e19bea0991f19f2b933e638bd40ce82c44782249c5.png](../Images/c8884d0e433a999659931b4e047c3514.png)'
- en: Not surprisingly, all values of \(N\) below 60 have been eliminated.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 毫不奇怪，所有小于60的\(N\)值都被排除了。
- en: The most likely value, if you had to guess, is 60.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你必须猜的话，最有可能的值是60。
- en: '[PRE4]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '[PRE5]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: That might not seem like a very good guess; after all, what are the chances
    that you just happened to see the train with the highest number? Nevertheless,
    if you want to maximize the chance of getting the answer exactly right, you should
    guess 60.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 这可能看起来不是一个很好的猜测；毕竟，你碰巧看到编号最高的火车的机会有多大呢？然而，如果你想最大化准确猜中答案的机会，你应该猜60。
- en: 'But maybe that’s not the right goal. An alternative is to compute the mean
    of the posterior distribution. Given a set of possible quantities, \(q_i\), and
    their probabilities, \(p_i\), the mean of the distribution is:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 但也许这不是正确的目标。另一种方法是计算后验分布的均值。给定一组可能的数量\(q_i\)及其概率\(p_i\)，分布的均值为：
- en: \[\mathrm{mean} = \sum_i p_i q_i\]
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: \[\mathrm{mean} = \sum_i p_i q_i\]
- en: 'Which we can compute like this:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以这样计算：
- en: '[PRE6]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[PRE7]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Or we can use the method provided by `Pmf`:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 或者我们可以使用`Pmf`提供的方法：
- en: '[PRE8]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '[PRE9]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: The mean of the posterior is 333, so that might be a good guess if you want
    to minimize error. If you played this guessing game over and over, using the mean
    of the posterior as your estimate would minimize the [mean squared error](http://en.wikipedia.org/wiki/Minimum_mean_square_error)
    over the long run.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 后验的均值是333，所以如果你想最小化误差，这可能是一个很好的猜测。如果您一遍又一遍地玩这个猜测游戏，使用后验的均值作为您的估计将在长期内最小化[均方误差](http://en.wikipedia.org/wiki/Minimum_mean_square_error)。
- en: Sensitivity to the Prior
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 对先验的敏感性
- en: The prior I used in the previous section is uniform from 1 to 1000, but I offered
    no justification for choosing a uniform distribution or that particular upper
    bound. We might wonder whether the posterior distribution is sensitive to the
    prior. With so little data—only one observation—it is.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 我在上一节中使用的先验是从1到1000均匀分布的，但我没有为选择均匀分布或特定的上限提供理由。我们可能会想知道后验分布对先验的敏感性。由于数据很少——只有一个观察结果——它是敏感的。
- en: 'This table shows what happens as we vary the upper bound:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 这张表显示了当我们改变上限时会发生什么：
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell source Hide code cell source</summary>
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="Toggle hidden content">显示代码单元格源代码
    隐藏代码单元格源代码</summary>
- en: '[PRE10]</details>'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE10]</details>'
- en: '|  | Posterior mean |'
  id: totrans-43
  prefs: []
  type: TYPE_TB
  zh: '|  | 后验均值 |'
- en: '| --- | --- |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Upper bound |  |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '| 上限 |  |'
- en: '| --- | --- |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 500 | 207.079228 |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '| 500 | 207.079228 |'
- en: '| 1000 | 333.419893 |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '| 1000 | 333.419893 |'
- en: '| 2000 | 552.179017 |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '| 2000 | 552.179017 |'
- en: As we vary the upper bound, the posterior mean changes substantially. So that’s
    bad.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 随着上限的变化，后验均值会发生较大变化。这很糟糕。
- en: 'When the posterior is sensitive to the prior, there are two ways to proceed:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 当后验对先验敏感时，有两种处理方法：
- en: Get more data.
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 获取更多数据。
- en: Get more background information and choose a better prior.
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 获取更多背景信息并选择更好的先验。
- en: With more data, posterior distributions based on different priors tend to converge.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 有更多数据时，基于不同先验的后验分布往往会收敛。
- en: For example, suppose that in addition to train 60 we also see trains 30 and
    90.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，假设除了火车60之外，我们还看到火车30和90。
- en: 'Here’s how the posterior means depend on the upper bound of the prior, when
    we observe three trains:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们观察到三列火车时，后验均值如何取决于先验的上限：
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell source Hide code cell source</summary>
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="Toggle hidden content">显示代码单元格源代码
    隐藏代码单元格源代码</summary>
- en: '[PRE11]</details>'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE11]</details>'
- en: '|  | Posterior mean |'
  id: totrans-59
  prefs: []
  type: TYPE_TB
  zh: '|  | 后验均值 |'
- en: '| --- | --- |'
  id: totrans-60
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Upper bound |  |'
  id: totrans-61
  prefs: []
  type: TYPE_TB
  zh: '| 上限 |  |'
- en: '| --- | --- |'
  id: totrans-62
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 500 | 151.849588 |'
  id: totrans-63
  prefs: []
  type: TYPE_TB
  zh: '| 500 | 151.849588 |'
- en: '| 1000 | 164.305586 |'
  id: totrans-64
  prefs: []
  type: TYPE_TB
  zh: '| 1000 | 164.305586 |'
- en: '| 2000 | 171.338181 |'
  id: totrans-65
  prefs: []
  type: TYPE_TB
  zh: '| 2000 | 171.338181 |'
- en: The differences are smaller, but apparently three trains are not enough for
    the posteriors to converge.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 差异较小，但显然三列火车不足以使后验收敛。
- en: Power Law Prior
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 幂律先验
- en: If more data are not available, another option is to improve the priors by gathering
    more background information. It is probably not reasonable to assume that a train-operating
    company with 1000 locomotives is just as likely as a company with only 1.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 如果没有更多数据可用，另一个选择是通过收集更多背景信息来改进先验。假设一个拥有1000辆火车的火车运营公司和一个只有1辆火车的公司一样可能是不合理的。
- en: With some effort, we could probably find a list of companies that operate locomotives
    in the area of observation. Or we could interview an expert in rail shipping to
    gather information about the typical size of companies.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 通过一些努力，我们可能可以找到在观察区域内操作火车的公司名单。或者我们可以采访铁路运输专家，收集有关公司的典型规模的信息。
- en: But even without getting into the specifics of railroad economics, we can make
    some educated guesses. In most fields, there are many small companies, fewer medium-sized
    companies, and only one or two very large companies.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 但即使不涉及铁路经济的具体情况，我们也可以做一些有根据的猜测。在大多数领域，有许多小公司，较少中等规模的公司，只有一两家非常大的公司。
- en: In fact, the distribution of company sizes tends to follow a power law, as Robert
    Axtell reports in *Science* ([http://www.sciencemag.org/content/293/5536/1818.full.pdf](http://www.sciencemag.org/content/293/5536/1818.full.pdf)).
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 事实上，公司规模的分布往往遵循幂律，正如Robert Axtell在《科学》中报道的那样（[http://www.sciencemag.org/content/293/5536/1818.full.pdf](http://www.sciencemag.org/content/293/5536/1818.full.pdf)）。
- en: This law suggests that if there are 1000 companies with fewer than 10 locomotives,
    there might be 100 companies with 100 locomotives, 10 companies with 1000, and
    possibly one company with 10,000 locomotives.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 这个定律表明，如果有1000家公司拥有少于10辆火车，可能有100家公司拥有100辆火车，10家公司拥有1000辆火车，可能有一家公司拥有10000辆火车。
- en: Mathematically, a power law means that the number of companies with a given
    size, \(N\), is proportional to \((1/N)^{\alpha}\), where \(\alpha\) is a parameter
    that is often near 1.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 从数学上讲，幂律意味着具有给定大小N的公司的数量与\((1/N)^{\alpha}\)成比例，其中\(\alpha\)是通常接近1的参数。
- en: 'We can construct a power law prior like this:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以构建这样的幂律先验：
- en: '[PRE12]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: <details class="hide below-input"><summary aria-label="Toggle hidden content">Show
    code cell output Hide code cell output</summary>
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide below-input"><summary aria-label="Toggle hidden content">显示代码单元格输出
    隐藏代码单元格输出</summary>
- en: '[PRE13]</details>'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE13]</details>'
- en: For comparison, here’s the uniform prior again.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 为了比较，这里再次是均匀先验。
- en: '[PRE14]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '[PRE15]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Here’s what a power law prior looks like, compared to the uniform prior:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 这是幂律先验的样子，与均匀先验相比：
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell source Hide code cell source</summary>
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="Toggle hidden content">显示代码单元格源代码
    隐藏代码单元格源代码</summary>
- en: '[PRE16]</details> ![_images/1540e9adc2d63655ca44e42defbf777d454d6ae8554df5ec7344b6a0105b19ae.png](../Images/6fb82f3e2199e7281ec74969875b78ca.png)'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE16]</details> ![_images/1540e9adc2d63655ca44e42defbf777d454d6ae8554df5ec7344b6a0105b19ae.png](../Images/6fb82f3e2199e7281ec74969875b78ca.png)'
- en: Here’s the update for both priors.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 这是两种先验的更新。
- en: '[PRE17]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: And here are the posterior distributions.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是后验分布。
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell source Hide code cell source</summary>
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="Toggle hidden content">显示代码单元格源代码
    隐藏代码单元格源代码</summary>
- en: '[PRE18]</details> ![_images/39081a966b6588f813b7a938dd08689cf7e276519770fc9afa2e8681ab159173.png](../Images/e20c7df561b596edfd53a82f583bd230.png)'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE18]</details> ![_images/39081a966b6588f813b7a938dd08689cf7e276519770fc9afa2e8681ab159173.png](../Images/e20c7df561b596edfd53a82f583bd230.png)'
- en: The power law gives less prior probability to high values, which yields lower
    posterior means, and less sensitivity to the upper bound.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 幂律给较高值较少的先验概率，这会产生较低的后验均值，并且对上限的敏感性较小。
- en: 'Here’s how the posterior means depend on the upper bound when we use a power
    law prior and observe three trains:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们使用幂律先验并观察到三列火车时，后验均值如何取决于上限：
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell source Hide code cell source</summary>
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="Toggle hidden content">显示代码单元格源代码
    隐藏代码单元格源代码</summary>
- en: '[PRE19]</details>'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE19]</details>'
- en: '|  | Posterior mean |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '|  | 后验均值 |'
- en: '| --- | --- |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Upper bound |  |'
  id: totrans-95
  prefs: []
  type: TYPE_TB
  zh: '| 上限 |  |'
- en: '| --- | --- |'
  id: totrans-96
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 500 | 130.708470 |'
  id: totrans-97
  prefs: []
  type: TYPE_TB
  zh: '| 500 | 130.708470 |'
- en: '| 1000 | 133.275231 |'
  id: totrans-98
  prefs: []
  type: TYPE_TB
  zh: '| 1000 | 133.275231 |'
- en: '| 2000 | 133.997463 |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '| 2000 | 133.997463 |'
- en: Now the differences are much smaller. In fact, with an arbitrarily large upper
    bound, the mean converges on 134.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 现在差异要小得多。实际上，具有任意大的上限，均值收敛于134。
- en: So the power law prior is more realistic, because it is based on general information
    about the size of companies, and it behaves better in practice.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，幂律先验更加现实，因为它基于有关公司规模的一般信息，并且在实践中表现更好。
- en: Credible Intervals
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 可信区间
- en: 'So far we have seen two ways to summarize a posterior distribution: the value
    with the highest posterior probability (the MAP) and the posterior mean. These
    are both **point estimates**, that is, single values that estimate the quantity
    we are interested in.'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经看到了两种总结后验分布的方法：具有最高后验概率的值（MAP）和后验均值。这两者都是**点估计**，即估计我们感兴趣的数量的单个值。
- en: Another way to summarize a posterior distribution is with percentiles. If you
    have taken a standardized test, you might be familiar with percentiles. For example,
    if your score is the 90th percentile, that means you did as well as or better
    than 90% of the people who took the test.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 总结后验分布的另一种方法是使用百分位数。如果您参加过标准化测试，您可能熟悉百分位数。例如，如果您的分数是第90百分位数，这意味着您的表现与或优于参加测试的90%的人。
- en: If we are given a value, `x`, we can compute its **percentile rank** by finding
    all values less than or equal to `x` and adding up their probabilities.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们给定一个值`x`，我们可以通过找到所有小于或等于`x`的值并加起它们的概率来计算它的**百分位数排名**。
- en: '`Pmf` provides a method that does this computation. So, for example, we can
    compute the probability that the company has less than or equal to 100 trains:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '`Pmf`提供了一个执行此计算的方法。因此，例如，我们可以计算公司拥有少于或等于100列火车的概率：'
- en: '[PRE20]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '[PRE21]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: With a power law prior and a dataset of three trains, the result is about 29%.
    So 100 trains is the 29th percentile.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 使用幂律先验和三列火车的数据集，结果约为29%。因此100列火车是第29百分位数。
- en: 'Going the other way, suppose we want to compute a particular percentile; for
    example, the median of a distribution is the 50th percentile. We can compute it
    by adding up probabilities until the total exceeds 0.5. Here’s a function that
    does it:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，假设我们想计算特定的百分位数；例如，分布的中位数是第50百分位数。我们可以通过累加概率直到总和超过0.5来计算它。以下是一个执行此操作的函数：
- en: '[PRE22]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: The loop uses `items`, which iterates the quantities and probabilities in the
    distribution. Inside the loop we add up the probabilities of the quantities in
    order. When the total equals or exceeds `prob`, we return the corresponding quantity.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 循环使用`items`，它在分布中迭代数量和概率。在循环内，我们按顺序累加数量的概率。当总和等于或超过`prob`时，我们返回相应的数量。
- en: This function is called `quantile` because it computes a quantile rather than
    a percentile. The difference is the way we specify `prob`. If `prob` is a percentage
    between 0 and 100, we call the corresponding quantity a percentile. If `prob`
    is a probability between 0 and 1, we call the corresponding quantity a **quantile**.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 这个函数被称为`quantile`，因为它计算的是分位数而不是百分位数。区别在于我们如何指定`prob`。如果`prob`是在0到100之间的百分比，我们称相应的数量为百分位数。如果`prob`是在0到1之间的概率，我们称相应的数量为**分位数**。
- en: 'Here’s how we can use this function to compute the 50th percentile of the posterior
    distribution:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是我们如何使用此函数来计算后验分布的第50百分位数：
- en: '[PRE23]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: '[PRE24]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: The result, 113 trains, is the median of the posterior distribution.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 结果，113列火车是后验分布的中位数。
- en: '`Pmf` provides a method called `quantile` that does the same thing. We can
    call it like this to compute the 5th and 95th percentiles:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '`Pmf`提供了一个名为`quantile`的方法，执行相同的操作。我们可以这样调用它来计算第5和第95百分位数：'
- en: '[PRE25]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: '[PRE26]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'The result is the interval from 91 to 243 trains, which implies:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 结果是从91到243列火车的区间，这意味着：
- en: The probability is 5% that the number of trains is less than or equal to 91.
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 火车数量少于或等于91的概率为5%。
- en: The probability is 5% that the number of trains is greater than 243.
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 火车数量大于243的概率为5%。
- en: Therefore the probability is 90% that the number of trains falls between 91
    and 243 (excluding 91 and including 243). For this reason, this interval is called
    a 90% **credible interval**.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，火车数量在91到243之间的概率为90%（不包括91，包括243）。因此，这个区间被称为90%的**可信区间**。
- en: '`Pmf` also provides `credible_interval`, which computes an interval that contains
    the given probability.'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '`Pmf`还提供了`credible_interval`，它计算包含给定概率的区间。'
- en: '[PRE27]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: '[PRE28]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: The German Tank Problem
  id: totrans-128
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 德国坦克问题
- en: During World War II, the Economic Warfare Division of the American Embassy in
    London used statistical analysis to estimate German production of tanks and other
    equipment.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 在第二次世界大战期间，美国驻伦敦大使馆的经济战部门使用统计分析来估计德国的坦克和其他装备的生产。
- en: The Western Allies had captured log books, inventories, and repair records that
    included chassis and engine serial numbers for individual tanks.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 西方盟国已经获得了包括坦克的底盘和发动机序列号在内的日志簿、库存和维修记录。
- en: Analysis of these records indicated that serial numbers were allocated by manufacturer
    and tank type in blocks of 100 numbers, that numbers in each block were used sequentially,
    and that not all numbers in each block were used. So the problem of estimating
    German tank production could be reduced, within each block of 100 numbers, to
    a form of the train problem.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 对这些记录的分析表明，制造商和坦克类型按100个数字的块分配序列号，每个块中的数字按顺序使用，并且并非每个块中的所有数字都被使用。因此，在每个100个数字的块内，估计德国坦克生产的问题可以简化为一种火车问题。
- en: Based on this insight, American and British analysts produced estimates substantially
    lower than estimates from other forms of intelligence. And after the war, records
    indicated that they were substantially more accurate.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 基于这一观点，美国和英国的分析师得出的估计明显低于其他形式情报的估计。战后的记录表明，他们的估计明显更准确。
- en: They performed similar analyses for tires, trucks, rockets, and other equipment,
    yielding accurate and actionable economic intelligence.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 他们对轮胎、卡车、火箭和其他设备进行了类似的分析，得出了准确和可操作的经济情报。
- en: The German tank problem is historically interesting; it is also a nice example
    of real-world application of statistical estimation.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 德国坦克问题在历史上很有趣；它也是统计估计的现实应用的一个很好的例子。
- en: For more on this problem, see [this Wikipedia page](https://en.wikipedia.org/wiki/German_tank_problem)
    and Ruggles and Brodie, “An Empirical Approach to Economic Intelligence in World
    War II”, *Journal of the American Statistical Association*, March 1947, [available
    here](https://web.archive.org/web/20170123132042/https://www.cia.gov/library/readingroom/docs/CIA-RDP79R01001A001300010013-3.pdf).
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 有关这个问题的更多信息，请参见[维基百科页面](https://en.wikipedia.org/wiki/German_tank_problem)和Ruggles和Brodie，“第二次世界大战中经济情报的实证方法”，*美国统计协会杂志*，1947年3月，[可在此处找到](https://web.archive.org/web/20170123132042/https://www.cia.gov/library/readingroom/docs/CIA-RDP79R01001A001300010013-3.pdf)。
- en: Informative Priors
  id: totrans-136
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 信息先验
- en: Among Bayesians, there are two approaches to choosing prior distributions. Some
    recommend choosing the prior that best represents background information about
    the problem; in that case the prior is said to be **informative**. The problem
    with using an informative prior is that people might have different information
    or interpret it differently. So informative priors might seem arbitrary.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 在贝叶斯派中，选择先验分布有两种方法。有些人建议选择最能代表问题背景信息的先验；在这种情况下，先验被称为**信息性的**。使用信息性先验的问题在于人们可能拥有不同的信息或以不同方式解释它。因此，信息性先验可能看起来是任意的。
- en: The alternative is a so-called **uninformative prior**, which is intended to
    be as unrestricted as possible, in order to let the data speak for itself. In
    some cases you can identify a unique prior that has some desirable property, like
    representing minimal prior information about the estimated quantity.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种选择是所谓的**无信息先验**，旨在尽可能不受限制，以便让数据自己说话。在某些情况下，您可以确定一个具有某些理想特性的唯一先验，比如代表所估计数量的最小先验信息。
- en: Uninformative priors are appealing because they seem more objective. But I am
    generally in favor of using informative priors. Why? First, Bayesian analysis
    is always based on modeling decisions. Choosing the prior is one of those decisions,
    but it is not the only one, and it might not even be the most subjective. So even
    if an uninformative prior is more objective, the entire analysis is still subjective.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 无信息性先验很吸引人，因为它们似乎更客观。但我通常倾向于使用信息性先验。为什么？首先，贝叶斯分析总是基于建模决策。选择先验是这些决策之一，但不是唯一的决策，甚至可能不是最主观的决策。因此，即使无信息性先验更客观，整个分析仍然是主观的。
- en: 'Also, for most practical problems, you are likely to be in one of two situations:
    either you have a lot of data or not very much. If you have a lot of data, the
    choice of the prior doesn’t matter; informative and uninformative priors yield
    almost the same results. If you don’t have much data, using relevant background
    information (like the power law distribution) makes a big difference.'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，对于大多数实际问题，您可能处于两种情况之一：要么您有大量数据，要么没有太多数据。如果您有大量数据，先验的选择并不重要；信息性和无信息性的先验几乎产生相同的结果。如果您没有太多数据，使用相关的背景信息（如幂律分布）会产生很大的影响。
- en: And if, as in the German tank problem, you have to make life and death decisions
    based on your results, you should probably use all of the information at your
    disposal, rather than maintaining the illusion of objectivity by pretending to
    know less than you do.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 如果像德国坦克问题一样，您必须根据结果做出生死决定，那么您可能应该使用您掌握的所有信息，而不是通过假装自己知道得比实际更少来维持客观性的幻觉。
- en: Summary
  id: totrans-142
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 总结
- en: This chapter introduces the train problem, which turns out to have the same
    likelihood function as the dice problem, and which can be applied to the German
    Tank problem. In all of these examples, the goal is to estimate a count, or the
    size of a population.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了火车问题，它的似然函数与骰子问题相同，并且可以应用于德国坦克问题。在所有这些例子中，目标是估计数量或人口的大小。
- en: In the next chapter, I’ll introduce “odds” as an alternative to probabilities,
    and Bayes’s Rule as an alternative form of Bayes’s Theorem. We’ll compute distributions
    of sums and products, and use them to estimate the number of Members of Congress
    who are corrupt, among other problems.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我将介绍“赔率”作为概率的替代，以及贝叶斯定理的另一种形式贝叶斯规则。我们将计算总和和乘积的分布，并用它们来估计国会中腐败的成员数量，以及其他问题。
- en: But first, you might want to work on these exercises.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 但首先，您可能想要解决这些练习。
- en: Exercises
  id: totrans-146
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习
- en: '**Exercise:** Suppose you are giving a talk in a large lecture hall and the
    fire marshal interrupts because they think the audience exceeds 1200 people, which
    is the safe capacity of the room.'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习：**假设您在一个大型讲堂上发表演讲，消防队员中断了，因为他们认为观众超过了1200人，这是房间的安全容量。'
- en: 'You think there are fewer then 1200 people, and you offer to prove it. It would
    take too long to count, so you try an experiment:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 您认为人数少于1200人，并且您愿意证明这一点。数数太耗时，所以您尝试了一个实验：
- en: You ask how many people were born on May 11 and two people raise their hands.
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您问有多少人是在5月11日出生的，有两个人举手。
- en: You ask how many were born on May 23 and 1 person raises their hand.
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您问有多少人是在5月23日出生的，有1个人举手。
- en: Finally, you ask how many were born on August 1, and no one raises their hand.
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最后，您问有多少人是在8月1日出生的，没有人举手。
- en: 'How many people are in the audience? What is the probability that there are
    more than 1200 people. Hint: Remember the binomial distribution.'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 观众有多少人？有超过1200人的概率是多少。提示：记住二项分布。
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell content Hide code cell content</summary>
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="Toggle hidden content">显示代码单元格内容
    隐藏代码单元格内容</summary>
- en: '[PRE29]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: '[PRE30]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE30]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">显示代码单元格内容 隐藏代码单元格内容</summary>'
- en: '[PRE31]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE31]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">显示代码单元格内容 隐藏代码单元格内容</summary>'
- en: '[PRE32]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: '[PRE33]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE33]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">显示代码单元格内容 隐藏代码单元格内容</summary>'
- en: '[PRE34]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: '![_images/e88d06c8d69defdc14f80513a529c748ae82947f1d46597958f1e5294d141b84.png](../Images/9b3cd9ca937aff05ce0fa947721ceea5.png)</details><details
    class="hide above-input"><summary aria-label="Toggle hidden content">Show code
    cell content Hide code cell content</summary>'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: '![_images/e88d06c8d69defdc14f80513a529c748ae82947f1d46597958f1e5294d141b84.png](../Images/9b3cd9ca937aff05ce0fa947721ceea5.png)</details><details
    class="hide above-input"><summary aria-label="Toggle hidden content">显示代码单元格内容
    隐藏代码单元格内容</summary>'
- en: '[PRE35]'
  id: totrans-161
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: '[PRE36]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE36]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">显示代码单元格内容 隐藏代码单元格内容</summary>'
- en: '[PRE37]'
  id: totrans-163
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: '[PRE38]</details>'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE38]</details>'
- en: '**Exercise:** I often see [rabbits](https://en.wikipedia.org/wiki/Eastern_cottontail)
    in the garden behind my house, but it’s not easy to tell them apart, so I don’t
    really know how many there are.'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习：**我经常在我家后面的花园里看到[兔子](https://en.wikipedia.org/wiki/Eastern_cottontail)，但很难分辨它们，所以我不知道有多少只兔子。'
- en: Suppose I deploy a motion-sensing [camera trap](https://en.wikipedia.org/wiki/Camera_trap)
    that takes a picture of the first rabbit it sees each day. After three days, I
    compare the pictures and conclude that two of them are the same rabbit and the
    other is different.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我部署了一个运动传感[照相陷阱](https://en.wikipedia.org/wiki/Camera_trap)，它每天都会拍摄它看到的第一只兔子。三天后，我比较了照片，得出两张照片是同一只兔子，另一张是不同的兔子。
- en: How many rabbits visit my garden?
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 有多少只兔子来到我的花园？
- en: 'To answer this question, we have to think about the prior distribution and
    the likelihood of the data:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 要回答这个问题，我们必须考虑先验分布和数据的可能性：
- en: I have sometimes seen four rabbits at the same time, so I know there are at
    least that many. I would be surprised if there were more than 10\. So, at least
    as a starting place, I think a uniform prior from 4 to 10 is reasonable.
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我有时一次看到四只兔子，所以我知道至少有那么多。如果有超过10只，我会感到惊讶。所以，至少作为一个起点，我认为从4到10的均匀先验是合理的。
- en: To keep things simple, let’s assume that all rabbits who visit my garden are
    equally likely to be caught by the camera trap in a given day. Let’s also assume
    it is guaranteed that the camera trap gets a picture every day.
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了简化问题，让我们假设访问我的花园的所有兔子在某一天被照相陷阱捕捉到的概率相等。我们还假设照相陷阱每天都能拍到一张照片。
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell content Hide code cell content</summary>
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="Toggle hidden content">显示代码单元格内容
    隐藏代码单元格内容</summary>
- en: '[PRE39]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE39]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">显示代码单元格内容 隐藏代码单元格内容</summary>'
- en: '[PRE40]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE40]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">显示代码单元格内容 隐藏代码单元格内容</summary>'
- en: '[PRE41]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: '![_images/fae1b64345d5eccfc5958883cb7a5da6c375cfdd3dc7f01e3f83f721ab0ee87c.png](../Images/bf83414453de1f8eb1a8bd38012ca56e.png)</details>'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '![_images/fae1b64345d5eccfc5958883cb7a5da6c375cfdd3dc7f01e3f83f721ab0ee87c.png](../Images/bf83414453de1f8eb1a8bd38012ca56e.png)</details>'
- en: '**Exercise:** Suppose that in the criminal justice system, all prison sentences
    are either 1, 2, or 3 years, with an equal number of each. One day, you visit
    a prison and choose a prisoner at random. What is the probability that they are
    serving a 3-year sentence? What is the average remaining sentence of the prisoners
    you observe?'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习：**假设在刑事司法系统中，所有监禁刑期为1、2或3年，每种刑期的数量相等。有一天，你去了一所监狱，随机选择了一个囚犯。他们服刑3年的概率是多少？你观察到的囚犯的平均剩余刑期是多少？'
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell content Hide code cell content</summary>
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="Toggle hidden content">显示代码单元格内容
    隐藏代码单元格内容</summary>
- en: '[PRE42]'
  id: totrans-178
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: '|  | probs |'
  id: totrans-179
  prefs: []
  type: TYPE_TB
  zh: '|  | 概率 |'
- en: '| --- | --- |'
  id: totrans-180
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 1 | 0.333333 |'
  id: totrans-181
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 0.333333 |'
- en: '| 2 | 0.333333 |'
  id: totrans-182
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 0.333333 |'
- en: '| 3 | 0.333333 |</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '| 3 | 0.333333 |</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">显示代码单元格内容 隐藏代码单元格内容</summary>'
- en: '[PRE43]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: '|  | probs |'
  id: totrans-185
  prefs: []
  type: TYPE_TB
  zh: '|  | 概率 |'
- en: '| --- | --- |'
  id: totrans-186
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 1 | 0.166667 |'
  id: totrans-187
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 0.166667 |'
- en: '| 2 | 0.333333 |'
  id: totrans-188
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 0.333333 |'
- en: '| 3 | 0.500000 |</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '| 3 | 0.500000 |</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">显示代码单元格内容 隐藏代码单元格内容</summary>'
- en: '[PRE44]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: '[PRE45]</details>'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE45]</details>'
- en: '**Exercise:** If I chose a random adult in the U.S., what is the probability
    that they have a sibling? To be precise, what is the probability that their mother
    has had at least one other child.'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习：**如果我在美国随机选择一个成年人，他们有兄弟姐妹的概率是多少？准确地说，他们的母亲至少有一个其他孩子的概率是多少。'
- en: '[This article from the Pew Research Center](https://www.pewsocialtrends.org/2015/05/07/family-size-among-mothers/)
    provides some relevant data.'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: '[皮尤研究中心的这篇文章](https://www.pewsocialtrends.org/2015/05/07/family-size-among-mothers/)提供了一些相关数据。'
- en: 'From it, I extracted the following distribution of family size for mothers
    in the U.S. who were 40-44 years old in 2014:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 从中，我提取了2014年40-44岁的美国母亲家庭规模的以下分布：
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell content Hide code cell content</summary>
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="Toggle hidden content">显示代码单元格内容
    隐藏代码单元格内容</summary>
- en: '[PRE46]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: '![_images/aab4093f29e589364a6225822e5476df7fa0e3902c8c5e1cf5f5455a41f5741e.png](../Images/7b585ad781658a49a136c0070208eb0b.png)</details>'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '![_images/aab4093f29e589364a6225822e5476df7fa0e3902c8c5e1cf5f5455a41f5741e.png](../Images/7b585ad781658a49a136c0070208eb0b.png)</details>'
- en: For simplicity, let’s assume that all families in the 4+ category have exactly
    4 children.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 为简单起见，让我们假设4+类别中的所有家庭都恰好有4个孩子。
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell content Hide code cell content</summary>
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="切换隐藏内容">显示代码单元格内容 隐藏代码单元格内容</summary>
- en: '[PRE47]'
  id: totrans-200
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: '|  | probs |'
  id: totrans-201
  prefs: []
  type: TYPE_TB
  zh: '|  | 概率 |'
- en: '| --- | --- |'
  id: totrans-202
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 1 | 0.094828 |'
  id: totrans-203
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 0.094828 |'
- en: '| 2 | 0.353448 |'
  id: totrans-204
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 0.353448 |'
- en: '| 3 | 0.310345 |'
  id: totrans-205
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 0.310345 |'
- en: '| 4 | 0.241379 |</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '| 4 | 0.241379 |</details> <details class="hide above-input"><summary aria-label="切换隐藏内容">显示代码单元格内容
    隐藏代码单元格内容</summary>'
- en: '[PRE48]'
  id: totrans-207
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: '[PRE49]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE49]</details> <details class="hide above-input"><summary aria-label="切换隐藏内容">显示代码单元格内容
    隐藏代码单元格内容</summary>'
- en: '[PRE50]'
  id: totrans-209
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: '[PRE51]</details>'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE51]</details>'
- en: '**Exercise:** The [Doomsday argument](https://en.wikipedia.org/wiki/Doomsday_argument)
    is “a probabilistic argument that claims to predict the number of future members
    of the human species given an estimate of the total number of humans born so far.”'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习：**[末日论证](https://en.wikipedia.org/wiki/Doomsday_argument)是“一种概率论证，它声称可以根据迄今为止出生的人类总数的估计来预测未来人类的数量。”'
- en: Suppose there are only two kinds of intelligent civilizations that can happen
    in the universe. The “short-lived” kind go exinct after only 200 billion individuals
    are born. The “long-lived” kind survive until 2,000 billion individuals are born.
    And suppose that the two kinds of civilization are equally likely. Which kind
    of civilization do you think we live in?
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 假设宇宙中只有两种可能的智慧文明。"短寿"类型在出生20亿人后就灭绝了。"长寿"类型一直存活到出生20亿人后。假设这两种文明同样可能。你认为我们生活在哪种文明中？
- en: The Doomsday argument says we can use the total number of humans born so far
    as data. According to the [Population Reference Bureau](https://www.prb.org/howmanypeoplehaveeverlivedonearth/),
    the total number of people who have ever lived is about 108 billion.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 末日论证称我们可以使用迄今为止出生的人类总数作为数据。根据[人口参考局](https://www.prb.org/howmanypeoplehaveeverlivedonearth/)，迄今为止出生的人总数约为1080亿。
- en: Since you were born quite recently, let’s assume that you are, in fact, human
    being number 108 billion. If \(N\) is the total number who will ever live and
    we consider you to be a randomly-chosen person, it is equally likely that you
    could have been person 1, or \(N\), or any number in between. So what is the probability
    that you would be number 108 billion?
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 由于你是最近出生的，让我们假设你实际上是第1080亿个人。如果\(N\)是将来会出生的总人数，我们认为你是随机选择的一个人，那么你可能是第1个人，也可能是第\(N\)个人，也可能是中间的任何一个数字。那么你成为第1080亿个人的概率是多少？
- en: Given this data and dubious prior, what is the probability that our civilization
    will be short-lived?
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 根据这些数据和可疑的先验，我们的文明将是短寿的概率是多少？
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell content Hide code cell content</summary>
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="切换隐藏内容">显示代码单元格内容 隐藏代码单元格内容</summary>
- en: '[PRE52]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE52]</details> <details class="hide above-input"><summary aria-label="切换隐藏内容">显示代码单元格内容
    隐藏代码单元格内容</summary>'
- en: '[PRE53]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: '|  | probs |'
  id: totrans-219
  prefs: []
  type: TYPE_TB
  zh: '|  | 概率 |'
- en: '| --- | --- |'
  id: totrans-220
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 200 | 0.909091 |'
  id: totrans-221
  prefs: []
  type: TYPE_TB
  zh: '| 200 | 0.909091 |'
- en: '| 2000 | 0.090909 |</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: '| 2000 | 0.090909 |</details> <details class="hide above-input"><summary aria-label="切换隐藏内容">显示代码单元格内容
    隐藏代码单元格内容</summary>'
- en: '[PRE54]</details>'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE54]</details>'
