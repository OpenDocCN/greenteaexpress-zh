- en: Probability
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概率
- en: 原文：[https://allendowney.github.io/ThinkBayes2/chap01.html](https://allendowney.github.io/ThinkBayes2/chap01.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://allendowney.github.io/ThinkBayes2/chap01.html](https://allendowney.github.io/ThinkBayes2/chap01.html)
- en: The foundation of Bayesian statistics is Bayes’s Theorem, and the foundation
    of Bayes’s Theorem is conditional probability.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 贝叶斯统计的基础是贝叶斯定理，而贝叶斯定理的基础是条件概率。
- en: In this chapter, we’ll start with conditional probability, derive Bayes’s Theorem,
    and demonstrate it using a real dataset. In the next chapter, we’ll use Bayes’s
    Theorem to solve problems related to conditional probability. In the chapters
    that follow, we’ll make the transition from Bayes’s Theorem to Bayesian statistics,
    and I’ll explain the difference.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将从条件概率开始，推导贝叶斯定理，并使用真实数据集进行演示。在下一章中，我们将使用贝叶斯定理来解决与条件概率相关的问题。在接下来的章节中，我们将从贝叶斯定理过渡到贝叶斯统计，并解释其中的区别。
- en: Linda the Banker
  id: totrans-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 银行家琳达
- en: 'To introduce conditional probability, I’ll use an example from a [famous experiment
    by Tversky and Kahneman](https://en.wikipedia.org/wiki/Conjunction_fallacy), who
    posed the following question:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 为了介绍条件概率，我将使用特韦斯基和卡尼曼的[著名实验中的一个例子](https://en.wikipedia.org/wiki/Conjunction_fallacy)，他们提出了以下问题：
- en: Linda is 31 years old, single, outspoken, and very bright. She majored in philosophy.
    As a student, she was deeply concerned with issues of discrimination and social
    justice, and also participated in anti-nuclear demonstrations. Which is more probable?
  id: totrans-6
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 琳达今年31岁，单身，直言不讳，非常聪明。她主修哲学。作为学生，她对歧视和社会正义问题非常关注，并参加了反核示威活动。哪个更有可能？
- en: ''
  id: totrans-7
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Linda is a bank teller.
  id: totrans-8
  prefs:
  - PREF_BQ
  - PREF_OL
  type: TYPE_NORMAL
  zh: 琳达是一名银行出纳。
- en: ''
  id: totrans-9
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-10
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Linda is a bank teller and is active in the feminist movement.
  id: totrans-11
  prefs:
  - PREF_BQ
  - PREF_OL
  type: TYPE_NORMAL
  zh: 琳达是一名银行出纳，并积极参与女权主义运动。
- en: Many people choose the second answer, presumably because it seems more consistent
    with the description. It seems uncharacteristic if Linda is *just* a bank teller;
    it seems more consistent if she is also a feminist.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 许多人选择第二个答案，可能是因为它似乎更符合描述。如果琳达*只是*一个银行出纳，那似乎是不太一致的；如果她还是一个女权主义者，那似乎更一致。
- en: But the second answer cannot be “more probable”, as the question asks. Suppose
    we find 1000 people who fit Linda’s description and 10 of them work as bank tellers.
    How many of them are also feminists? At most, all 10 of them are; in that case,
    the two options are *equally* probable. If fewer than 10 are, the second option
    is *less* probable. But there is no way the second option can be *more* probable.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 但第二个答案不能是“更有可能”，正如问题所问的那样。假设我们找到了符合琳达描述的1000个人，其中有10个人是银行出纳。他们中有多少人也是女权主义者？最多，他们中的所有10个人都是；在这种情况下，这两个选项是*同样*可能的。如果少于10个人，第二个选项就*不太*可能。但第二个选项绝对不可能*更*可能。
- en: 'If you were inclined to choose the second option, you are in good company.
    The biologist [Stephen J. Gould wrote](https://doi.org/10.1080/09332480.1989.10554932)
    :'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你倾向于选择第二个选项，那么你是和一些人一样的。生物学家[史蒂芬·古尔德写道](https://doi.org/10.1080/09332480.1989.10554932)：
- en: I am particularly fond of this example because I know that the [second] statement
    is least probable, yet a little [homunculus](https://en.wikipedia.org/wiki/Homunculus_argument)
    in my head continues to jump up and down, shouting at me, “but she can’t just
    be a bank teller; read the description.”
  id: totrans-15
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 我特别喜欢这个例子，因为我知道[第二个]陈述最不可能，但是我脑海中的小人仍然在跳来跳去，对我喊道，“但她不可能只是一个银行出纳；读一下描述。”
- en: If the little person in your head is still unhappy, maybe this chapter will
    help.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你脑海中的小人仍然不开心，也许这一章会有所帮助。
- en: Probability
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 概率
- en: 'At this point I should provide a definition of “probability”, but that [turns
    out to be surprisingly difficult](https://en.wikipedia.org/wiki/Probability_interpretations).
    To avoid getting stuck before we start, we will use a simple definition for now
    and refine it later: A **probability** is a fraction of a finite set.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，我应该提供一个“概率”的定义，但是这[事实上是令人惊讶地困难](https://en.wikipedia.org/wiki/Probability_interpretations)。为了避免在开始之前陷入困境，我们现在将使用一个简单的定义，并稍后加以完善：**概率**是有限集合的一个分数。
- en: For example, if we survey 1000 people, and 20 of them are bank tellers, the
    fraction that work as bank tellers is 0.02 or 2%. If we choose a person from this
    population at random, the probability that they are a bank teller is 2%. By “at
    random” I mean that every person in the dataset has the same chance of being chosen.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果我们对1000人进行调查，其中有20人是银行出纳，那么作为银行出纳的比例就是0.02或2%。如果我们随机选择这个人口中的一个人，他们是银行出纳的概率就是2%。我所说的“随机”是指数据集中的每个人被选择的机会是相同的。
- en: With this definition and an appropriate dataset, we can compute probabilities
    by counting. To demonstrate, I’ll use data from the [General Social Survey](http://gss.norc.org/)
    (GSS).
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这个定义和一个合适的数据集，我们可以通过计数来计算概率。为了演示，我将使用[General Social Survey](http://gss.norc.org/)
    (GSS)的数据。
- en: I’ll use Pandas to read the data and store it in a `DataFrame`.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 我将使用Pandas来读取数据并将其存储在`DataFrame`中。
- en: '[PRE0]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '|  | caseid | year | age | sex | polviews | partyid | indus10 |'
  id: totrans-23
  prefs: []
  type: TYPE_TB
  zh: '|  | caseid | year | age | sex | polviews | partyid | indus10 |'
- en: '| --- | --- | --- | --- | --- | --- | --- | --- |'
  id: totrans-24
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- | --- | --- | --- | --- |'
- en: '| 0 | 1 | 1974 | 21.0 | 1 | 4.0 | 2.0 | 4970.0 |'
  id: totrans-25
  prefs: []
  type: TYPE_TB
  zh: '| 0 | 1 | 1974 | 21.0 | 1 | 4.0 | 2.0 | 4970.0 |'
- en: '| 1 | 2 | 1974 | 41.0 | 1 | 5.0 | 0.0 | 9160.0 |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 2 | 1974 | 41.0 | 1 | 5.0 | 0.0 | 9160.0 |'
- en: '| 2 | 5 | 1974 | 58.0 | 2 | 6.0 | 1.0 | 2670.0 |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 5 | 1974 | 58.0 | 2 | 6.0 | 1.0 | 2670.0 |'
- en: '| 3 | 6 | 1974 | 30.0 | 1 | 5.0 | 4.0 | 6870.0 |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 6 | 1974 | 30.0 | 1 | 5.0 | 4.0 | 6870.0 |'
- en: '| 4 | 7 | 1974 | 48.0 | 1 | 5.0 | 4.0 | 7860.0 |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 7 | 1974 | 48.0 | 1 | 5.0 | 4.0 | 7860.0 |'
- en: The `DataFrame` has one row for each person surveyed and one column for each
    variable I selected.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '`DataFrame`中的每一行代表接受调查的每个人，每一列代表我选择的每个变量。'
- en: The columns are
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 这些列是
- en: '`caseid`: Respondent identifier.'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`caseid`：受访者标识符。'
- en: '`year`: Year when the respondent was surveyed.'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`year`：受访者接受调查时的年份。'
- en: '`age`: Respondent’s age when surveyed.'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`age`：受访者接受调查时的年龄。'
- en: '`sex`: Male or female.'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sex`：男性或女性。'
- en: '`polviews`: Political views on a range from liberal to conservative.'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`polviews`：从自由主义到保守主义的政治观点。'
- en: '`partyid`: Political party affiliation, Democrat, Independent, or Republican.'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`partyid`：政党隶属，民主党、独立党或共和党。'
- en: '`indus10`: [Code](https://www.census.gov/cgi-bin/sssd/naics/naicsrch?chart=2007)
    for the industry the respondent works in.'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`indus10`：[代码](https://www.census.gov/cgi-bin/sssd/naics/naicsrch?chart=2007)
    表示受访者所在行业。'
- en: Let’s look at these variables in more detail, starting with `indus10`.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更详细地看看这些变量，从`indus10`开始。
- en: Fraction of Bankers
  id: totrans-40
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 银行家的比例
- en: 'The code for “Banking and related activities” is 6870, so we can select bankers
    like this:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: “银行业及相关活动”的代码是6870，所以我们可以这样选择银行家：
- en: '[PRE1]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[PRE2]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The result is a Pandas `Series` that contains the Boolean values `True` and
    `False`.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 结果是一个包含布尔值`True`和`False`的Pandas `Series`。
- en: If we use the `sum` function on this `Series`, it treats `True` as 1 and `False`
    as 0, so the total is the number of bankers.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们在这个`Series`上使用`sum`函数，它会将`True`视为1，`False`视为0，因此总数就是银行家的数量。
- en: '[PRE3]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '[PRE4]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: In this dataset, there are 728 bankers.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个数据集中，有728名银行家。
- en: 'To compute the *fraction* of bankers, we can use the `mean` function, which
    computes the fraction of `True` values in the `Series`:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 要计算银行家的*比例*，我们可以使用`mean`函数，它计算`Series`中`True`值的比例：
- en: '[PRE5]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[PRE6]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: About 1.5% of the respondents work in banking, so if we choose a random person
    from the dataset, the probability they are a banker is about 1.5%.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 大约1.5%的受访者在银行业工作，所以如果我们从数据集中随机选择一个人，他们是银行家的概率约为1.5%。
- en: The Probability Function
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 概率函数
- en: 'I’ll put the code from the previous section in a function that takes a Boolean
    series and returns a probability:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 我将把上一节的代码放入一个函数中，该函数接受一个布尔系列并返回一个概率：
- en: '[PRE7]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'So we can compute the fraction of bankers like this:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 所以我们可以这样计算银行家的比例：
- en: '[PRE8]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '[PRE9]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Now let’s look at another variable in this dataset. The values of the column
    `sex` are encoded like this:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们看看这个数据集中的另一个变量。列`sex`的值是这样编码的：
- en: '[PRE10]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: So we can make a Boolean series that is `True` for female respondents and `False`
    otherwise.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们可以制作一个布尔系列，对女性受访者为`True`，否则为`False`。
- en: '[PRE11]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: And use it to compute the fraction of respondents who are women.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 并使用它来计算女性受访者的比例。
- en: '[PRE12]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '[PRE13]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: The fraction of women in this dataset is higher than in the adult U.S. population
    because [the GSS does not include people living in institutions](https://gss.norc.org/faq)
    like prisons and military housing, and those populations are more likely to be
    male.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 这个数据集中女性的比例比美国成年人口要高，因为 [GSS不包括生活在机构中的人](https://gss.norc.org/faq) ，比如监狱和军事住房，这些人口更可能是男性。
- en: Political Views and Parties
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 政治观点和政党
- en: The other variables we’ll consider are `polviews`, which describes the political
    views of the respondents, and `partyid`, which describes their affiliation with
    a political party.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将考虑的其他变量是`polviews`，描述受访者的政治观点，以及`partyid`，描述他们与政党的关联。
- en: 'The values of `polviews` are on a seven-point scale:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '`polviews` 的值是一个七点量表：'
- en: '[PRE14]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: I’ll define `liberal` to be `True` for anyone whose response is “Extremely liberal”,
    “Liberal”, or “Slightly liberal”.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 我将定义`liberal`为任何选择“极端自由派”，“自由派”或“稍微自由派”的人为`True`。
- en: '[PRE15]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Here’s the fraction of respondents who are liberal by this definition.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 这是按照这个定义自由派的受访者的比例。
- en: '[PRE16]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '[PRE17]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: If we choose a random person in this dataset, the probability they are liberal
    is about 27%.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们在这个数据集中选择一个随机人，他们是自由的概率约为27%。
- en: 'The values of `partyid` are encoded like this:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '`partyid`的值是这样编码的：'
- en: '[PRE18]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'I’ll define `democrat` to include respondents who chose “Strong democrat” or
    “Not strong democrat”:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 我将定义`democrat`，包括选择“强烈民主党”或“不强烈民主党”的受访者：
- en: '[PRE19]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: And here’s the fraction of respondents who are Democrats, by this definition.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 这是按照这个定义民主党人的受访者的比例。
- en: '[PRE20]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '[PRE21]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Conjunction
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 连接
- en: Now that we have a definition of probability and a function that computes it,
    let’s move on to conjunction.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了概率的定义和计算它的函数，让我们继续进行连接。
- en: “Conjunction” is another name for the logical `and` operation. If you have two
    [propositions](https://en.wikipedia.org/wiki/Proposition), `A` and `B`, the conjunction
    `A and B` is `True` if both `A` and `B` are `True`, and `False` otherwise.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: “连接”是逻辑`and`操作的另一个名称。如果你有两个[命题](https://en.wikipedia.org/wiki/Proposition)，`A`和`B`，连接`A和B`如果`A`和`B`都为`True`，则为`True`，否则为`False`。
- en: If we have two Boolean series, we can use the `&` operator to compute their
    conjunction. For example, we have already computed the probability that a respondent
    is a banker.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们有两个布尔系列，我们可以使用`&`运算符来计算它们的连接。例如，我们已经计算了受访者是银行家的概率。
- en: '[PRE22]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: '[PRE23]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'And the probability that they are a Democrat:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 以及他们是民主党人的概率：
- en: '[PRE24]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: '[PRE25]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Now we can compute the probability that a respondent is a banker *and* a Democrat:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以计算受访者是银行家*和*民主党人的概率：
- en: '[PRE26]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '[PRE27]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: As we should expect, `prob(banker & democrat)` is less than `prob(banker)`,
    because not all bankers are Democrats.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们所期望的，`prob(banker & democrat)`小于`prob(banker)`，因为并非所有的银行家都是民主党人。
- en: 'We expect conjunction to be commutative; that is, `A & B` should be the same
    as `B & A`. To check, we can also compute `prob(democrat & banker)`:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 我们期望连接是可交换的；也就是说，`A & B` 应该与 `B & A` 相同。为了检查，我们还可以计算 `prob(democrat & banker)`：
- en: '[PRE28]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '[PRE29]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: As expected, they are the same.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 正如预期的那样，它们是相同的。
- en: Conditional Probability
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 条件概率
- en: 'Conditional probability is a probability that depends on a condition, but that
    might not be the most helpful definition. Here are some examples:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 条件概率是一个依赖于条件的概率，但这可能不是最有帮助的定义。以下是一些例子：
- en: What is the probability that a respondent is a Democrat, given that they are
    liberal?
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果一个受访者是自由派，那么他是民主党人的概率是多少？
- en: What is the probability that a respondent is female, given that they are a banker?
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果一个受访者是银行家，那么她是女性的概率是多少？
- en: What is the probability that a respondent is liberal, given that they are female?
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果一个受访者是女性，那么她是自由派的概率是多少？
- en: 'Let’s start with the first one, which we can interpret like this: “Of all the
    respondents who are liberal, what fraction are Democrats?”'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从第一个开始，我们可以这样解释：“在所有自由派的受访者中，有多少是民主党人？”
- en: 'We can compute this probability in two steps:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以分两步计算这个概率：
- en: Select all respondents who are liberal.
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择所有自由派的受访者。
- en: Compute the fraction of the selected respondents who are Democrats.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算所选受访者中是民主党人的比例。
- en: 'To select liberal respondents, we can use the bracket operator, `[]`, like
    this:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 要选择自由派受访者，我们可以使用方括号运算符`[]`，像这样：
- en: '[PRE30]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: '`selected` contains the values of `democrat` for liberal respondents, so `prob(selected)`
    is the fraction of liberals who are Democrats:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '`selected`包含自由派受访者的`democrat`的值，所以`prob(selected)`是自由派中是民主党人的比例：'
- en: '[PRE31]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: '[PRE32]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'A little more than half of liberals are Democrats. If that result is lower
    than you expected, keep in mind:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 超过一半的自由派是民主党人。如果这个结果比你预期的要低，记住：
- en: We used a somewhat strict definition of “Democrat”, excluding Independents who
    “lean” democratic.
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们使用了一个相对严格的“民主党人”的定义，排除了“倾向”民主党的独立人士。
- en: The dataset includes respondents as far back as 1974; in the early part of this
    interval, there was less alignment between political views and party affiliation,
    compared to the present.
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据集包括自1974年以来的受访者；在这个时间段的早期，与现在相比，政治观点和党派隶属之间的一致性较少。
- en: Let’s try the second example, “What is the probability that a respondent is
    female, given that they are a banker?” We can interpret that to mean, “Of all
    respondents who are bankers, what fraction are female?”
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们尝试第二个例子，“一个受访者是女性的概率是多少，假设他们是银行家？”我们可以解释为，“在所有是银行家的受访者中，有多少是女性？”
- en: Again, we’ll use the bracket operator to select only the bankers and `prob`
    to compute the fraction that are female.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，我们将使用方括号运算符来选择只有银行家的受访者，然后使用`prob`来计算其中女性的比例。
- en: '[PRE33]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '[PRE34]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: About 77% of the bankers in this dataset are female.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 这个数据集中大约77%的银行家是女性。
- en: 'Let’s wrap this computation in a function. I’ll define `conditional` to take
    two Boolean series, `proposition` and `given`, and compute the conditional probability
    of `proposition` conditioned on `given`:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们把这个计算包装成一个函数。我将定义`conditional`来接受两个布尔系列，`proposition`和`given`，并计算在`given`条件下`proposition`的条件概率：
- en: '[PRE35]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: We can use `conditional` to compute the probability that a respondent is liberal
    given that they are female.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用`conditional`来计算一个受访者是自由派的概率，假设他们是女性。
- en: '[PRE36]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: '[PRE37]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: About 28% of female respondents are liberal.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 大约28%的女性受访者是自由派。
- en: I included the keyword, `given`, along with the parameter, `female`, to make
    this expression more readable.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 我在这个表达式中包含了关键词“给定”，以及参数“女性”，使其更易读。
- en: Conditional Probability Is Not Commutative
  id: totrans-130
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 条件概率不是可交换的
- en: We have seen that conjunction is commutative; that is, `prob(A & B)` is always
    equal to `prob(B & A)`.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经看到连接是可交换的；也就是说，`prob(A & B)`总是等于`prob(B & A)`。
- en: But conditional probability is *not* commutative; that is, `conditional(A, B)`
    is not the same as `conditional(B, A)`.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 但条件概率*不*是可交换的；也就是说，`conditional(A, B)`和`conditional(B, A)`不是一样的。
- en: That should be clear if we look at an example. Previously, we computed the probability
    a respondent is female, given that they are banker.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们看一个例子，这一点应该很清楚。之前，我们计算了一个受访者是女性的概率，假设他们是银行家。
- en: '[PRE38]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: '[PRE39]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'The result shows that the majority of bankers are female. That is not the same
    as the probability that a respondent is a banker, given that they are female:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 结果显示大多数银行家是女性。这与一个受访者是银行家的概率，假设他们是女性的概率不同：
- en: '[PRE40]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: '[PRE41]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: Only about 2% of female respondents are bankers.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 只有大约2%的女性受访者是银行家。
- en: I hope this example makes it clear that conditional probability is not commutative,
    and maybe it was already clear to you. Nevertheless, it is a common error to confuse
    `conditional(A, B)` and `conditional(B, A)`. We’ll see some examples later.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 我希望这个例子能清楚地表明条件概率不是可交换的，也许对你来说已经很清楚了。然而，混淆`conditional(A, B)`和`conditional(B,
    A)`是一个常见的错误。我们稍后会看到一些例子。
- en: Condition and Conjunction
  id: totrans-141
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 条件和连接
- en: We can combine conditional probability and conjunction. For example, here’s
    the probability a respondent is female, given that they are a liberal Democrat.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以结合条件概率和连接。例如，这是一个受访者是女性的概率，假设他们是自由派民主党人。
- en: '[PRE42]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: '[PRE43]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: About 57% of liberal Democrats are female.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 大约57%的自由派民主党人是女性。
- en: 'And here’s the probability they are a liberal female, given that they are a
    banker:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 这是他们是自由女性的概率，假设他们是银行家：
- en: '[PRE44]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: '[PRE45]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: About 17% of bankers are liberal women.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 大约17%的银行家是自由女性。
- en: Laws of Probability
  id: totrans-150
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 概率定律
- en: 'In the next few sections, we’ll derive three relationships between conjunction
    and conditional probability:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的几节中，我们将推导连接和条件概率之间的三个关系：
- en: 'Theorem 1: Using a conjunction to compute a conditional probability.'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定理1：使用连接来计算条件概率。
- en: 'Theorem 2: Using a conditional probability to compute a conjunction.'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定理2：使用条件概率来计算连接。
- en: 'Theorem 3: Using `conditional(A, B)` to compute `conditional(B, A)`.'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定理3：使用`conditional(A, B)`来计算`conditional(B, A)`。
- en: Theorem 3 is also known as Bayes’s Theorem.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 定理3也被称为贝叶斯定理。
- en: 'I’ll write these theorems using mathematical notation for probability:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 我将使用数学符号来写这些定理：
- en: \(P(A)\) is the probability of proposition \(A\).
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: \(P(A)\)是命题\(A\)的概率。
- en: \(P(A~\mathrm{and}~B)\) is the probability of the conjunction of \(A\) and \(B\),
    that is, the probability that both are true.
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: \(P(A~\mathrm{and}~B)\)是\(A\)和\(B\)的连接的概率，也就是说，两者都为真的概率。
- en: \(P(A | B)\) is the conditional probability of \(A\) given that \(B\) is true.
    The vertical line between \(A\) and \(B\) is pronounced “given”.
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: \(P(A | B)\)是在\(B\)为真的条件下\(A\)的条件概率。\(A\)和\(B\)之间的竖线读作“给定”。
- en: With that, we are ready for Theorem 1.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这个，我们准备好定理1了。
- en: Theorem 1
  id: totrans-161
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 定理1
- en: 'What fraction of bankers are female? We have already seen one way to compute
    the answer:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 银行家中女性的比例是多少？我们已经看到了计算答案的一种方法：
- en: Use the bracket operator to select the bankers, then
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用方括号运算符来选择银行家，然后
- en: Use `mean` to compute the fraction of bankers who are female.
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`mean`来计算女性银行家的比例。
- en: 'We can write these steps like this:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以把这些步骤写成这样：
- en: '[PRE46]'
  id: totrans-166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: '[PRE47]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'Or we can use the `conditional` function, which does the same thing:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 或者我们可以使用`conditional`函数，它做的是同样的事情：
- en: '[PRE48]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: '[PRE49]'
  id: totrans-170
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: 'But there is another way to compute this conditional probability, by computing
    the ratio of two probabilities:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 但还有另一种方法来计算这个条件概率，即计算两个概率的比值：
- en: The fraction of respondents who are female bankers, and
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 受访者中女性银行家的比例，
- en: The fraction of respondents who are bankers.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 受访者中是银行家的比例。
- en: 'In other words: of all the bankers, what fraction are female bankers? Here’s
    how we compute this ratio.'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说：在所有的银行家中，有多少比例是女性银行家？我们是这样计算这个比例的。
- en: '[PRE50]'
  id: totrans-175
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: '[PRE51]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: 'The result is the same. This example demonstrates a general rule that relates
    conditional probability and conjunction. Here’s what it looks like in math notation:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 结果是相同的。这个例子演示了一个关于条件概率和连接的一般规则。在数学符号中，它是这样的：
- en: \[P(A|B) = \frac{P(A~\mathrm{and}~B)}{P(B)}\]
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: \[P(A|B) = \frac{P(A~\mathrm{and}~B)}{P(B)}\]
- en: And that’s Theorem 1.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是定理1。
- en: Theorem 2
  id: totrans-180
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 定理2
- en: If we start with Theorem 1 and multiply both sides by \(P(B)\), we get Theorem
    2.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们从定理1开始，并将两边都乘以\(P(B)\)，我们得到定理2。
- en: \[P(A~\mathrm{and}~B) = P(B) ~ P(A|B)\]
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: \[P(A~\mathrm{and}~B) = P(B) ~ P(A|B)\]
- en: 'This formula suggests a second way to compute a conjunction: instead of using
    the `&` operator, we can compute the product of two probabilities.'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 这个公式提出了计算连接的第二种方法：不使用`&`运算符，我们可以计算两个概率的乘积。
- en: 'Let’s see if it works for `liberal` and `democrat`. Here’s the result using
    `&`:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看它是否适用于“自由派”和“民主党人”。这里是使用`&`的结果：
- en: '[PRE52]'
  id: totrans-185
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: '[PRE53]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: 'And here’s the result using Theorem 2:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是使用定理2的结果：
- en: '[PRE54]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: '[PRE55]'
  id: totrans-189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: They are the same.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 它们是相同的。
- en: Theorem 3
  id: totrans-191
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 定理3
- en: 'We have established that conjunction is commutative. In math notation, that
    means:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经证明了连接是可交换的。在数学符号中，这意味着：
- en: \[P(A~\mathrm{and}~B) = P(B~\mathrm{and}~A)\]
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: \[P(A~\mathrm{and}~B) = P(B~\mathrm{and}~A)\]
- en: If we apply Theorem 2 to both sides, we have
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们将定理2应用于两边，我们有
- en: \[P(B) P(A|B) = P(A) P(B|A)\]
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: \[P(B) P(A|B) = P(A) P(B|A)\]
- en: 'Here’s one way to interpret that: if you want to check \(A\) and \(B\), you
    can do it in either order:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一种解释方法：如果你想检查\(A\)和\(B\)，你可以以任何顺序进行：
- en: You can check \(B\) first, then \(A\) conditioned on \(B\), or
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以先检查\(B\)，然后在\(B\)的条件下检查\(A\)，或者
- en: You can check \(A\) first, then \(B\) conditioned on \(A\).
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以先检查\(A\)，然后在\(A\)的条件下检查\(B\)。
- en: 'If we divide through by \(P(B)\), we get Theorem 3:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们除以\(P(B)\)，我们得到定理3：
- en: \[P(A|B) = \frac{P(A) P(B|A)}{P(B)}\]
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: \[P(A|B) = \frac{P(A) P(B|A)}{P(B)}\]
- en: And that, my friends, is Bayes’s Theorem.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 这，朋友们，就是贝叶斯定理。
- en: 'To see how it works, let’s compute the fraction of bankers who are liberal,
    first using `conditional`:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 为了看看它是如何工作的，让我们首先使用“条件”计算银行家中自由派的比例：
- en: '[PRE56]'
  id: totrans-203
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: '[PRE57]'
  id: totrans-204
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'Now using Bayes’s Theorem:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 现在使用贝叶斯定理：
- en: '[PRE58]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: '[PRE59]'
  id: totrans-207
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: They are the same.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 它们是相同的。
- en: The Law of Total Probability
  id: totrans-209
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 总概率定律
- en: 'In addition to these three theorems, there’s one more thing we’ll need to do
    Bayesian statistics: the law of total probability. Here’s one form of the law,
    expressed in mathematical notation:'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这三个定理，我们还需要贝叶斯统计的另一件事：总概率定律。这是总概率定律的一种形式，用数学符号表示：
- en: \[P(A) = P(B_1 \mathrm{and} A) + P(B_2 \mathrm{and} A)\]
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: \[P(A) = P(B_1 \mathrm{and} A) + P(B_2 \mathrm{and} A)\]
- en: 'In words, the total probability of \(A\) is the sum of two possibilities: either
    \(B_1\) and \(A\) are true or \(B_2\) and \(A\) are true. But this law applies
    only if \(B_1\) and \(B_2\) are:'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，\(A\)的总概率是两种可能性的总和：要么\(B_1\)和\(A\)为真，要么\(B_2\)和\(A\)为真。但是只有在\(B_1\)和\(B_2\)是：
- en: Mutually exclusive, which means that only one of them can be true, and
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 相互排斥，这意味着它们中只有一个可以为真，以及
- en: Collectively exhaustive, which means that one of them must be true.
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 完全穷尽，这意味着它们中的一个必须为真。
- en: 'As an example, let’s use this law to compute the probability that a respondent
    is a banker. We can compute it directly like this:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，让我们使用这个定律来计算受访者是银行家的概率。我们可以直接计算如下：
- en: '[PRE60]'
  id: totrans-216
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: '[PRE61]'
  id: totrans-217
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: So let’s confirm that we get the same thing if we compute male and female bankers
    separately.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 所以让我们确认一下，如果我们分别计算男性和女性银行家，我们会得到相同的结果。
- en: In this dataset all respondents are designated male or female. Recently, the
    GSS Board of Overseers announced that they will add more inclusive gender questions
    to the survey (you can read more about this issue, and their decision, at [https://gender.stanford.edu/news-publications/gender-news/more-inclusive-gender-questions-added-general-social-survey](https://gender.stanford.edu/news-publications/gender-news/more-inclusive-gender-questions-added-general-social-survey).
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个数据集中，所有受访者都被指定为男性或女性。最近，GSS监事会宣布他们将在调查中添加更具包容性的性别问题（您可以在[https://gender.stanford.edu/news-publications/gender-news/more-inclusive-gender-questions-added-general-social-survey](https://gender.stanford.edu/news-publications/gender-news/more-inclusive-gender-questions-added-general-social-survey)了解更多关于这个问题及他们的决定）。
- en: We already have a Boolean `Series` that is `True` for female respondents. Here’s
    the complementary `Series` for male respondents.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经有一个布尔`Series`，对于女性受访者是`True`。这是男性受访者的补充`Series`。
- en: '[PRE62]'
  id: totrans-221
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: Now we can compute the total probability of `banker` like this.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以这样计算“银行家”的总概率。
- en: '[PRE63]'
  id: totrans-223
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: '[PRE64]'
  id: totrans-224
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: Because `male` and `female` are mutually exclusive and collectively exhaustive
    (MECE), we get the same result we got by computing the probability of `banker`
    directly.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 因为“男性”和“女性”是相互排斥且完全穷尽的（MECE），我们得到了直接计算“银行家”概率时得到的相同结果。
- en: 'Applying Theorem 2, we can also write the law of total probability like this:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 应用定理2，我们也可以这样写总概率定律：
- en: \[P(A) = P(B_1) P(A|B_1) + P(B_2) P(A|B_2)\]
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: \[P(A) = P(B_1) P(A|B_1) + P(B_2) P(A|B_2)\]
- en: 'And we can test it with the same example:'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以用同样的例子来测试它：
- en: '[PRE65]'
  id: totrans-229
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: '[PRE66]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: 'When there are more than two conditions, it is more concise to write the law
    of total probability as a summation:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 当存在两个以上的条件时，将总概率定律写成求和形式更加简洁：
- en: \[P(A) = \sum_i P(B_i) P(A|B_i)\]
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: \[P(A) = \sum_i P(B_i) P(A|B_i)\]
- en: Again, this holds as long as the conditions, \(B_i\) are mutually exclusive
    and collectively exhaustive. As an example, let’s consider `polviews`, which has
    seven different values.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 只要条件\(B_i\)是相互排斥且完全穷尽的，这个结论就成立。例如，让我们考虑“政治观点”，它有七个不同的值。
- en: '[PRE67]'
  id: totrans-234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: '[PRE68]'
  id: totrans-235
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'On this scale, `4.0` represents “Moderate”. So we can compute the probability
    of a moderate banker like this:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个尺度上，“4.0”代表“中等”。所以我们可以这样计算中等银行家的概率：
- en: '[PRE69]'
  id: totrans-237
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: '[PRE70]'
  id: totrans-238
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: And we can use `sum` and a [generator expression](https://www.johndcook.com/blog/2020/01/15/generator-expression/)
    to compute the summation.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用`sum`和[生成器表达式](https://www.johndcook.com/blog/2020/01/15/generator-expression/)来计算总和。
- en: '[PRE71]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: '[PRE72]'
  id: totrans-241
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: The result is the same.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 结果是相同的。
- en: In this example, using the law of total probability is a lot more work than
    computing the probability directly, but it will turn out to be useful, I promise.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，使用全概率定理比直接计算概率要麻烦得多，但我保证它会很有用。
- en: Summary
  id: totrans-244
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 总结
- en: 'Here’s what we have so far:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止我们有：
- en: '**Theorem 1** gives us a way to compute a conditional probability using a conjunction:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理1**给了我们一种使用连接来计算条件概率的方法：'
- en: \[P(A|B) = \frac{P(A~\mathrm{and}~B)}{P(B)}\]
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: \[P(A|B) = \frac{P(A~\mathrm{and}~B)}{P(B)}\]
- en: '**Theorem 2** gives us a way to compute a conjunction using a conditional probability:'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理2**给了我们一种使用条件概率来计算连接的方法：'
- en: \[P(A~\mathrm{and}~B) = P(B) P(A|B)\]
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: \[P(A~\mathrm{and}~B) = P(B) P(A|B)\]
- en: '**Theorem 3**, also known as Bayes’s Theorem, gives us a way to get from \(P(A|B)\)
    to \(P(B|A)\), or the other way around:'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: '**定理3**，也被称为贝叶斯定理，给了我们一种从\(P(A|B)\)到\(P(B|A)\)或者反过来的方法：'
- en: \[P(A|B) = \frac{P(A) P(B|A)}{P(B)}\]
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: \[P(A|B) = \frac{P(A) P(B|A)}{P(B)}\]
- en: '**The Law of Total Probability** provides a way to compute probabilities by
    adding up the pieces:'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: '**全概率定理**提供了一种通过加总各部分来计算概率的方法：'
- en: \[P(A) = \sum_i P(B_i) P(A|B_i)\]
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: \[P(A) = \sum_i P(B_i) P(A|B_i)\]
- en: At this point you might ask, “So what?” If we have all of the data, we can compute
    any probability we want, any conjunction, or any conditional probability, just
    by counting. We don’t have to use these formulas.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 此时你可能会问，“那又怎样呢？”如果我们有所有的数据，我们可以通过计数来计算任何我们想要的概率，任何连接或任何条件概率。我们不必使用这些公式。
- en: And you are right, *if* we have all of the data. But often we don’t, and in
    that case, these formulas can be pretty useful – especially Bayes’s Theorem. In
    the next chapter, we’ll see how.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 你是对的，*如果*我们有所有的数据。但通常我们没有，这种情况下，这些公式就会非常有用——特别是贝叶斯定理。在下一章中，我们将看到。
- en: Exercises
  id: totrans-256
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习
- en: '**Exercise:** Use `conditional` to compute the following probabilities:'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习：**使用`conditional`来计算以下概率：'
- en: What is the probability that a respondent is liberal, given that they are a
    Democrat?
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个受访者是自由主义者的概率是多少，假设他们是民主党人？
- en: What is the probability that a respondent is a Democrat, given that they are
    liberal?
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个受访者是民主党人的概率是多少，假设他们是自由主义者？
- en: Think carefully about the order of the arguments you pass to `conditional`.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 仔细考虑你传递给`conditional`的参数的顺序。
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell content Hide code cell content</summary>
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="Toggle hidden content">显示代码单元格内容隐藏代码单元格内容</summary>
- en: '[PRE73]'
  id: totrans-262
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: '[PRE74]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE74]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">显示代码单元格内容隐藏代码单元格内容</summary>'
- en: '[PRE75]'
  id: totrans-264
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: '[PRE76]</details>'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE76]</details>'
- en: '**Exercise:** Let’s use the tools in this chapter to solve a variation of the
    Linda problem.'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习：**让我们使用本章的工具来解决琳达问题的一个变种。'
- en: Linda is 31 years old, single, outspoken, and very bright. She majored in philosophy.
    As a student, she was deeply concerned with issues of discrimination and social
    justice, and also participated in anti-nuclear demonstrations. Which is more probable?
  id: totrans-267
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 琳达今年31岁，单身，直言不讳，非常聪明。她主修哲学。作为学生，她对歧视和社会正义问题非常关注，并参加了反核示威。哪个更有可能？
- en: ''
  id: totrans-268
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Linda is a banker.
  id: totrans-269
  prefs:
  - PREF_BQ
  - PREF_OL
  type: TYPE_NORMAL
  zh: 琳达是一名银行家。
- en: ''
  id: totrans-270
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: ''
  id: totrans-271
  prefs:
  - PREF_BQ
  - PREF_IND
  type: TYPE_NORMAL
- en: Linda is a banker and considers herself a liberal Democrat.
  id: totrans-272
  prefs:
  - PREF_BQ
  - PREF_OL
  type: TYPE_NORMAL
  zh: 琳达是一名银行家，并认为自己是自由主义民主党人。
- en: To answer this question, compute
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 为了回答这个问题，计算
- en: The probability that Linda is a banker, given that she is female,
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Linda是银行家的概率，假设她是女性，
- en: The probability that Linda is a banker and a liberal Democrat, given that she
    is female.
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Linda是一名银行家和自由主义民主党人的概率，假设她是女性。
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell content Hide code cell content</summary>
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="Toggle hidden content">显示代码单元格内容隐藏代码单元格内容</summary>
- en: '[PRE77]'
  id: totrans-277
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: '[PRE78]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE78]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">显示代码单元格内容隐藏代码单元格内容</summary>'
- en: '[PRE79]'
  id: totrans-279
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: '[PRE80]</details>'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE80]</details>'
- en: '**Exercise:** There’s a [famous quote](https://quoteinvestigator.com/2014/02/24/heart-head/)
    about young people, old people, liberals, and conservatives that goes something
    like:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习：**有一句[著名的引语](https://quoteinvestigator.com/2014/02/24/heart-head/)关于年轻人、老年人、自由主义者和保守派，大致是这样的：'
- en: If you are not a liberal at 25, you have no heart. If you are not a conservative
    at 35, you have no brain.
  id: totrans-282
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 如果你在25岁不是自由主义者，你就没有心。如果你在35岁不是保守派，你就没有大脑。
- en: 'Whether you agree with this proposition or not, it suggests some probabilities
    we can compute as an exercise. Rather than use the specific ages 25 and 35, let’s
    define `young` and `old` as under 30 or over 65:'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 无论你是否同意这个命题，它都暗示了一些我们可以计算的概率。与其使用具体的年龄25和35，不如将“年轻”和“老年”定义为30岁以下或65岁以上：
- en: '[PRE81]'
  id: totrans-284
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: '[PRE82]'
  id: totrans-285
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: '[PRE83]'
  id: totrans-286
  prefs: []
  type: TYPE_PRE
  zh: '[PRE83]'
- en: '[PRE84]'
  id: totrans-287
  prefs: []
  type: TYPE_PRE
  zh: '[PRE84]'
- en: For these thresholds, I chose round numbers near the 20th and 80th percentiles.
    Depending on your age, you may or may not agree with these definitions of “young”
    and “old”.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这些阈值，我选择了接近第20和第80百分位数的整数。根据你的年龄，你可能同意或不同意这些“年轻”和“老年”的定义。
- en: I’ll define `conservative` as someone whose political views are “Conservative”,
    “Slightly Conservative”, or “Extremely Conservative”.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 我将“保守派”定义为政治观点为“保守派”、“稍微保守派”或“极端保守派”的人。
- en: '[PRE85]'
  id: totrans-290
  prefs: []
  type: TYPE_PRE
  zh: '[PRE85]'
- en: '[PRE86]'
  id: totrans-291
  prefs: []
  type: TYPE_PRE
  zh: '[PRE86]'
- en: Use `prob` and `conditional` to compute the following probabilities.
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`prob`和`conditional`来计算以下概率。
- en: What is the probability that a randomly chosen respondent is a young liberal?
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 随机选择的受访者是自由主义者的概率是多少？
- en: What is the probability that a young person is liberal?
  id: totrans-294
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个年轻人是自由主义者的概率是多少？
- en: What fraction of respondents are old conservatives?
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 受访者中有多少是老年保守派？
- en: What fraction of conservatives are old?
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 保守派中有多少是老年人？
- en: For each statement, think about whether it is expressing a conjunction, a conditional
    probability, or both.
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 对于每个陈述，思考它是在表达一个连接、一个条件概率，还是两者兼而有之。
- en: For the conditional probabilities, be careful about the order of the arguments.
    If your answer to the last question is greater than 30%, you have it backwards!
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 对于条件概率，要注意参数的顺序。如果你对最后一个问题的答案大于30%，那么你搞错了！
- en: <details class="hide above-input"><summary aria-label="Toggle hidden content">Show
    code cell content Hide code cell content</summary>
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: <details class="hide above-input"><summary aria-label="Toggle hidden content">显示代码单元格内容
    隐藏代码单元格内容</summary>
- en: '[PRE87]'
  id: totrans-300
  prefs: []
  type: TYPE_PRE
  zh: '[PRE87]'
- en: '[PRE88]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE88]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">显示代码单元格内容 隐藏代码单元格内容</summary>'
- en: '[PRE89]'
  id: totrans-302
  prefs: []
  type: TYPE_PRE
  zh: '[PRE89]'
- en: '[PRE90]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE90]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">显示代码单元格内容 隐藏代码单元格内容</summary>'
- en: '[PRE91]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE91]'
- en: '[PRE92]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">Show code cell content Hide code cell content</summary>'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE92]</details> <details class="hide above-input"><summary aria-label="Toggle
    hidden content">显示代码单元格内容 隐藏代码单元格内容</summary>'
- en: '[PRE93]'
  id: totrans-306
  prefs: []
  type: TYPE_PRE
  zh: '[PRE93]'
- en: '[PRE94]</details>'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: '[PRE94]</details>'
